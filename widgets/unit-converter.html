<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unit Converter - iowidgets</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }
      .container {
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        max-width: 500px;
        width: 100%;
      }
      h1 {
        font-size: 28px;
        margin-bottom: 30px;
        color: #333;
        text-align: center;
      }
      .form-group {
        margin-bottom: 20px;
      }
      label {
        display: block;
        font-weight: 600;
        margin-bottom: 8px;
        color: #555;
      }
      input,
      select {
        width: 100%;
        padding: 12px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 16px;
      }
      input:focus,
      select:focus {
        outline: none;
        border-color: #f093fb;
      }
      .result {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 12px;
        text-align: center;
        font-size: 24px;
        font-weight: 600;
        color: #333;
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üìè Unit Converter</h1>
      <div class="form-group">
        <label>Category</label>
        <select id="category" onchange="updateUnits()">
          <option value="length">Length</option>
          <option value="weight">Weight</option>
          <option value="temperature">Temperature</option>
        </select>
      </div>
      <div class="form-group">
        <label>From</label>
        <input type="number" id="fromValue" value="1" oninput="convert()" />
        <select
          id="fromUnit"
          onchange="convert()"
          style="margin-top: 10px"
        ></select>
      </div>
      <div class="form-group">
        <label>To</label>
        <select id="toUnit" onchange="convert()"></select>
      </div>
      <div class="result" id="result">0</div>
    </div>
    <script>
      const units = {
        length: {
          meter: 1,
          kilometer: 0.001,
          centimeter: 100,
          millimeter: 1000,
          mile: 0.000621371,
          yard: 1.09361,
          foot: 3.28084,
          inch: 39.3701,
        },
        weight: {
          kilogram: 1,
          gram: 1000,
          milligram: 1000000,
          pound: 2.20462,
          ounce: 35.274,
        },
        temperature: {
          celsius: {
            to: (v, unit) =>
              unit === "fahrenheit"
                ? (v * 9) / 5 + 32
                : unit === "kelvin"
                ? v + 273.15
                : v,
          },
          fahrenheit: {
            to: (v, unit) =>
              unit === "celsius"
                ? ((v - 32) * 5) / 9
                : unit === "kelvin"
                ? ((v - 32) * 5) / 9 + 273.15
                : v,
          },
          kelvin: {
            to: (v, unit) =>
              unit === "celsius"
                ? v - 273.15
                : unit === "fahrenheit"
                ? ((v - 273.15) * 9) / 5 + 32
                : v,
          },
        },
      };

      function updateUnits() {
        const category = document.getElementById("category").value;
        const fromUnit = document.getElementById("fromUnit");
        const toUnit = document.getElementById("toUnit");

        fromUnit.innerHTML = "";
        toUnit.innerHTML = "";

        const unitNames = Object.keys(units[category]);
        unitNames.forEach((unit) => {
          fromUnit.add(
            new Option(unit.charAt(0).toUpperCase() + unit.slice(1), unit)
          );
          toUnit.add(
            new Option(unit.charAt(0).toUpperCase() + unit.slice(1), unit)
          );
        });

        toUnit.selectedIndex = 1;
        convert();
      }

      function convert() {
        const category = document.getElementById("category").value;
        const value =
          parseFloat(document.getElementById("fromValue").value) || 0;
        const fromUnit = document.getElementById("fromUnit").value;
        const toUnit = document.getElementById("toUnit").value;

        let result;
        if (category === "temperature") {
          result = units[category][fromUnit].to(value, toUnit);
        } else {
          const baseValue = value / units[category][fromUnit];
          result = baseValue * units[category][toUnit];
        }

        document.getElementById("result").textContent = result.toFixed(4);
      }

      updateUnits();
    </script>
  </body>
</html>
