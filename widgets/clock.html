<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clock Widget - Live Clock, World Time & Timer | iowidgets</title>

    <!-- Google AdSense -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-S15806B1HW"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-S15806B1HW");
    </script>
    <meta
      name="description"
      content="Free clock widget with digital and analog displays, world clocks, timezones, 12/24 hour formats, stopwatch, and timer. Customizable themes and formats. Embed instantly."
    />
    <meta
      name="keywords"
      content="clock widget, digital clock, analog clock, world clock, timezone clock, online clock, live clock, stopwatch, timer, time widget"
    />
    <link rel="canonical" href="https://iowidgets.com/widgets/clock.html" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://iowidgets.com/widgets/clock.html"
    />
    <meta
      property="og:title"
      content="Clock Widget - Live Clock, World Time & Timer"
    />
    <meta
      property="og:description"
      content="Free clock widget with digital and analog displays, world clocks, timezones, 12/24 hour formats, stopwatch, and timer."
    />
    <meta
      property="og:image"
      content="https://iowidgets.com/assets/clock-preview.jpg"
    />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:url"
      content="https://iowidgets.com/widgets/clock.html"
    />
    <meta
      name="twitter:title"
      content="Clock Widget - Live Clock, World Time & Timer"
    />
    <meta
      name="twitter:description"
      content="Free clock widget with digital and analog displays, world clocks, timezones, 12/24 hour formats, stopwatch, and timer."
    />
    <meta
      name="twitter:image"
      content="https://iowidgets.com/assets/clock-preview.jpg"
    />

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Clock Widget",
        "url": "https://iowidgets.com/widgets/clock.html",
        "description": "Free clock widget with digital and analog displays, world clocks, and timezones",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "featureList": "Digital clock, Analog clock, World clocks, Timezone support, 12/24 hour format, Stopwatch, Timer, Multiple themes, Customizable display"
      }
    </script>

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />

    <link rel="stylesheet" href="../assets/shared.css" />
    <style>
      :root {
        --clock-primary: #667eea;
        --clock-secondary: #764ba2;
        --success-color: #10b981;
        --text-dark: #333;
        --text-light: #555;
        --border-color: #e0e0e0;
        --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.3);
        --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
        --transition-speed: 0.3s;
      }

      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      .widget-container {
        max-width: 900px;
        margin: 1rem auto;
        padding: 1rem;
      }

      .widget-preview {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border-radius: 20px;
        padding: 1.5rem;
        margin-bottom: 2rem;
        border: 1px solid rgba(255, 255, 255, 0.2);
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .embed-section {
        background: rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(20px);
        border-radius: 20px;
        padding: 1.5rem;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .embed-section h2 {
        margin-bottom: 1rem;
        color: #fff;
        font-size: clamp(1.25rem, 3vw, 1.5rem);
      }

      .code-block {
        background: #1e1e1e;
        border-radius: 10px;
        padding: 1rem;
        overflow-x: auto;
        margin: 1rem 0;
        position: relative;
      }

      .code-block pre {
        margin: 0;
        color: #d4d4d4;
        font-family: "Courier New", Consolas, Monaco, monospace;
        font-size: clamp(0.75rem, 2vw, 0.9rem);
        line-height: 1.5;
      }

      .copy-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(99, 102, 241, 0.8);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.85rem;
        transition: all var(--transition-speed);
        min-height: 44px;
        min-width: 44px;
      }

      .copy-btn:hover {
        background: rgba(99, 102, 241, 1);
        transform: translateY(-2px);
      }

      .copy-btn:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
      }

      .copy-btn.copied {
        background: rgba(34, 197, 94, 0.8);
      }

      /* Clock Widget Styles */
      .clock-widget {
        text-align: center;
        font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont,
          "Segoe UI", Roboto, sans-serif;
        width: 100%;
      }

      .clock-time {
        font-size: clamp(2.5rem, 8vw, 4rem);
        font-weight: 200;
        color: #fff;
        letter-spacing: 0.05em;
        margin-bottom: 0.5rem;
        font-variant-numeric: tabular-nums;
      }

      .clock-date {
        font-size: clamp(1rem, 3vw, 1.2rem);
        color: rgba(255, 255, 255, 0.7);
        font-weight: 300;
      }

      .analog-clock {
        width: 250px;
        height: 250px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 8px solid rgba(255, 255, 255, 0.2);
        position: relative;
        margin: 0 auto;
        box-shadow: var(--shadow-lg);
      }

      .analog-clock::before {
        content: "";
        position: absolute;
        width: 12px;
        height: 12px;
        background: white;
        border-radius: 50%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
      }

      .clock-hand {
        position: absolute;
        bottom: 50%;
        left: 50%;
        transform-origin: bottom center;
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }

      .hour-hand {
        width: 6px;
        height: 60px;
        margin-left: -3px;
        opacity: 0.8;
      }

      .minute-hand {
        width: 4px;
        height: 85px;
        margin-left: -2px;
        opacity: 0.9;
      }

      .second-hand {
        width: 2px;
        height: 95px;
        margin-left: -1px;
        background: #ef4444;
      }

      .clock-number {
        position: absolute;
        font-size: 1.2rem;
        color: rgba(255, 255, 255, 0.7);
        font-weight: 600;
      }

      .controls-panel {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border-radius: 15px;
        padding: 1.5rem;
        border: 1px solid rgba(255, 255, 255, 0.2);
        width: 100%;
      }

      .controls-panel h3 {
        color: white;
        margin-bottom: 1rem;
        font-size: clamp(1.1rem, 3vw, 1.25rem);
      }

      .control-group {
        margin-bottom: 1.25rem;
      }

      .control-group label {
        display: block;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 0.5rem;
        font-weight: 600;
        font-size: 0.875rem;
      }

      .control-group select,
      .control-group button {
        width: 100%;
        padding: 0.75rem;
        border-radius: 8px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.1);
        color: white;
        font-size: 0.9375rem;
        cursor: pointer;
        transition: all var(--transition-speed);
        min-height: 44px;
      }

      .control-group select:focus,
      .control-group button:focus {
        outline: none;
        border-color: rgba(255, 255, 255, 0.5);
        background: rgba(255, 255, 255, 0.15);
        box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
      }

      .control-group button:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
      }

      .checkbox-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 0.5rem;
      }

      .checkbox-group input[type="checkbox"] {
        width: 20px;
        height: 20px;
        cursor: pointer;
        accent-color: var(--clock-primary);
      }

      .checkbox-group label {
        margin-bottom: 0 !important;
        cursor: pointer;
      }

      .stopwatch-display,
      .timer-display {
        font-size: clamp(2rem, 6vw, 3rem);
        color: white;
        font-weight: 300;
        margin: 1rem 0;
        font-variant-numeric: tabular-nums;
      }

      .button-group {
        display: flex;
        gap: 0.75rem;
        margin-top: 1rem;
      }

      .button-group button {
        flex: 1;
      }

      .back-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin: 1rem 0 2rem;
        padding: 0.75rem 1.5rem;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        text-decoration: none;
        border-radius: 50px;
        transition: all var(--transition-speed);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        min-height: 44px;
      }

      .back-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
      }

      .back-btn:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
      }

      /* Tablet breakpoint */
      @media (min-width: 640px) {
        .widget-container {
          margin: 2rem auto;
          padding: 2rem;
        }

        .widget-preview {
          padding: 2rem;
        }

        .embed-section {
          padding: 2rem;
        }

        .analog-clock {
          width: 300px;
          height: 300px;
        }

        .hour-hand {
          height: 75px;
        }

        .minute-hand {
          height: 105px;
        }

        .second-hand {
          height: 115px;
        }
      }

      /* Desktop breakpoint */
      @media (min-width: 1024px) {
        .widget-preview {
          flex-direction: row;
          align-items: flex-start;
        }

        .clock-widget {
          flex: 1;
        }

        .controls-panel {
          max-width: 320px;
        }
      }

      /* Accessibility - High contrast focus indicators */
      @media (prefers-contrast: high) {
        button:focus,
        select:focus {
          outline: 3px solid currentColor;
          outline-offset: 2px;
        }
      }
    </style>
  </head>
  <body>
    <div class="widget-container">
      <a
        href="../index.html"
        class="back-btn"
        aria-label="Back to iowidgets homepage"
        >← Back to iowidgets</a
      >

      <h1 style="text-align: center; color: white; margin: 2rem 0">
        🕐 Clock Widget
      </h1>

      <!-- Widget Preview -->
      <div
        class="widget-preview"
        role="region"
        aria-label="Clock preview and controls"
      >
        <div class="clock-widget" id="clockWidget">
          <div id="digitalClock">
            <div
              class="clock-time"
              id="clockTime"
              role="timer"
              aria-live="off"
              aria-label="Current time"
            >
              00:00:00
            </div>
            <div
              class="clock-date"
              id="clockDate"
              role="status"
              aria-live="polite"
            >
              Loading...
            </div>
          </div>
          <div id="analogClock" style="display: none">
            <div class="analog-clock">
              <div class="clock-hand hour-hand" id="hourHand"></div>
              <div class="clock-hand minute-hand" id="minuteHand"></div>
              <div class="clock-hand second-hand" id="secondHand"></div>
            </div>
            <div
              class="clock-date"
              id="analogDate"
              style="margin-top: 1.5rem"
              role="status"
              aria-live="polite"
            >
              Loading...
            </div>
          </div>
          <div id="stopwatchMode" style="display: none">
            <div
              class="stopwatch-display"
              id="stopwatchDisplay"
              role="timer"
              aria-live="polite"
            >
              00:00:00
            </div>
            <div class="button-group">
              <button
                onclick="startStopwatch()"
                id="stopwatchStartBtn"
                aria-label="Start stopwatch"
              >
                Start
              </button>
              <button
                onclick="stopStopwatch()"
                id="stopwatchStopBtn"
                aria-label="Stop stopwatch"
                disabled
              >
                Stop
              </button>
              <button onclick="resetStopwatch()" aria-label="Reset stopwatch">
                Reset
              </button>
            </div>
          </div>
          <div id="timerMode" style="display: none">
            <div
              class="timer-display"
              id="timerDisplay"
              role="timer"
              aria-live="polite"
            >
              00:00
            </div>
            <div class="control-group">
              <label for="timerMinutes">Minutes</label>
              <input
                type="number"
                id="timerMinutes"
                min="0"
                max="999"
                value="5"
                style="
                  width: 100%;
                  padding: 0.75rem;
                  border-radius: 8px;
                  border: 1px solid rgba(255, 255, 255, 0.2);
                  background: rgba(255, 255, 255, 0.1);
                  color: white;
                  font-size: 0.9375rem;
                  min-height: 44px;
                "
                aria-label="Timer minutes"
              />
            </div>
            <div class="button-group">
              <button
                onclick="startTimer()"
                id="timerStartBtn"
                aria-label="Start timer"
              >
                Start
              </button>
              <button
                onclick="stopTimer()"
                id="timerStopBtn"
                aria-label="Stop timer"
                disabled
              >
                Stop
              </button>
              <button onclick="resetTimer()" aria-label="Reset timer">
                Reset
              </button>
            </div>
          </div>
        </div>

        <!-- Control Panel -->
        <div class="controls-panel">
          <h3>⚙️ Options</h3>

          <div class="control-group">
            <label for="clockMode">Mode</label>
            <select
              id="clockMode"
              onchange="changeMode()"
              aria-label="Clock mode"
            >
              <option value="digital">Digital Clock</option>
              <option value="analog">Analog Clock</option>
              <option value="stopwatch">Stopwatch</option>
              <option value="timer">Timer</option>
            </select>
          </div>

          <div class="control-group" id="formatControl">
            <label for="timeFormat">Time Format</label>
            <select
              id="timeFormat"
              onchange="updateClock()"
              aria-label="Time format"
            >
              <option value="24">24 Hour</option>
              <option value="12">12 Hour</option>
            </select>
          </div>

          <div class="control-group" id="timezoneControl">
            <label for="timezone">Timezone</label>
            <select
              id="timezone"
              onchange="updateClock()"
              aria-label="Timezone"
            >
              <option value="local">Local Time</option>
              <option value="UTC">UTC</option>
              <option value="America/New_York">New York (ET)</option>
              <option value="America/Chicago">Chicago (CT)</option>
              <option value="America/Denver">Denver (MT)</option>
              <option value="America/Los_Angeles">Los Angeles (PT)</option>
              <option value="Europe/London">London</option>
              <option value="Europe/Paris">Paris</option>
              <option value="Asia/Tokyo">Tokyo</option>
              <option value="Asia/Shanghai">Shanghai</option>
              <option value="Asia/Dubai">Dubai</option>
              <option value="Australia/Sydney">Sydney</option>
            </select>
          </div>

          <div class="control-group" id="secondsControl">
            <div class="checkbox-group">
              <input
                type="checkbox"
                id="showSeconds"
                checked
                onchange="updateClock()"
                aria-label="Show seconds"
              />
              <label for="showSeconds">Show Seconds</label>
            </div>
          </div>

          <div class="control-group" id="dateFormatControl">
            <label for="dateFormat">Date Format</label>
            <select
              id="dateFormat"
              onchange="updateClock()"
              aria-label="Date format"
            >
              <option value="long">Long (Full Date)</option>
              <option value="short">Short (MM/DD/YYYY)</option>
              <option value="medium">Medium (Mon DD, YYYY)</option>
            </select>
          </div>

          <div
            style="
              color: rgba(255, 255, 255, 0.7);
              font-size: 0.875rem;
              margin-top: 1rem;
              padding: 0.75rem;
              background: rgba(0, 0, 0, 0.2);
              border-radius: 8px;
            "
          >
            <strong>💡 Features:</strong><br />
            • Live clock updates<br />
            • Multiple timezones<br />
            • Analog & Digital views<br />
            • Stopwatch & Timer<br />
            • Customizable formats
          </div>
        </div>
      </div>

      <!-- Embed Code Section -->
      <div class="embed-section">
        <h2>📋 Embed This Widget</h2>
        <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 1rem">
          Copy and paste this code into your website:
        </p>

        <div class="code-block">
          <button
            class="copy-btn"
            onclick="copyEmbedCode()"
            aria-label="Copy embed code to clipboard"
          >
            Copy Code
          </button>
          <pre
            id="embedCode"
            tabindex="0"
            role="textbox"
            aria-label="Embed code"
          >
&lt;!-- iowidgets Clock Widget --&gt;
&lt;div id="iowidgets-clock"&gt;&lt;/div&gt;
&lt;script&gt;
(function() {
    const widget = document.getElementById('iowidgets-clock');
    widget.style.cssText = 'text-align:center;font-family:system-ui,sans-serif;padding:2rem;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:15px;color:white;';
    
    function updateClock() {
        const now = new Date();
        const time = now.toLocaleTimeString('en-US', { hour12: false });
        const date = now.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
        
        widget.innerHTML = `
            &lt;div style="font-size:3rem;font-weight:200;margin-bottom:0.5rem;"&gt;${time}&lt;/div&gt;
            &lt;div style="font-size:1rem;opacity:0.8;"&gt;${date}&lt;/div&gt;
        `;
    }
    
    updateClock();
    setInterval(updateClock, 1000);
})();
&lt;/script&gt;</pre
          >
        </div>

        <p
          style="
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            margin-top: 1rem;
          "
        >
          💡 This widget is self-contained and requires no dependencies. Just
          paste and it works!
        </p>
      </div>
    </div>

    <script>
      // Clock state
      let currentMode = "digital";
      let stopwatchInterval = null;
      let stopwatchTime = 0;
      let timerInterval = null;
      let timerTime = 0;

      // Update clock function
      function updateClock() {
        const timezone = document.getElementById("timezone")?.value || "local";
        const format = document.getElementById("timeFormat")?.value || "24";
        const showSeconds =
          document.getElementById("showSeconds")?.checked !== false;
        const dateFormat =
          document.getElementById("dateFormat")?.value || "long";

        const now = new Date();
        let timeOptions = { hour12: format === "12" };
        let dateOptions = {};

        if (timezone !== "local") {
          timeOptions.timeZone = timezone;
          dateOptions.timeZone = timezone;
        }

        // Format time
        let timeStr;
        if (showSeconds) {
          timeStr = now.toLocaleTimeString("en-US", timeOptions);
        } else {
          timeStr = now.toLocaleTimeString("en-US", {
            ...timeOptions,
            hour: "2-digit",
            minute: "2-digit",
          });
        }

        // Format date
        let dateStr;
        if (dateFormat === "long") {
          dateOptions = {
            ...dateOptions,
            weekday: "long",
            year: "numeric",
            month: "long",
            day: "numeric",
          };
        } else if (dateFormat === "short") {
          dateOptions = {
            ...dateOptions,
            year: "numeric",
            month: "2-digit",
            day: "2-digit",
          };
        } else {
          dateOptions = {
            ...dateOptions,
            year: "numeric",
            month: "short",
            day: "numeric",
          };
        }
        dateStr = now.toLocaleDateString("en-US", dateOptions);

        // Update digital clock
        const clockTime = document.getElementById("clockTime");
        const clockDate = document.getElementById("clockDate");
        if (clockTime) clockTime.textContent = timeStr;
        if (clockDate) clockDate.textContent = dateStr;

        // Update analog clock
        const analogDate = document.getElementById("analogDate");
        if (analogDate) analogDate.textContent = dateStr;
        updateAnalogClock();
      }

      function updateAnalogClock() {
        const now = new Date();
        const hours = now.getHours() % 12;
        const minutes = now.getMinutes();
        const seconds = now.getSeconds();

        const hourHand = document.getElementById("hourHand");
        const minuteHand = document.getElementById("minuteHand");
        const secondHand = document.getElementById("secondHand");

        if (hourHand) {
          const hourDeg = hours * 30 + minutes * 0.5;
          hourHand.style.transform = `rotate(${hourDeg}deg)`;
        }

        if (minuteHand) {
          const minuteDeg = minutes * 6;
          minuteHand.style.transform = `rotate(${minuteDeg}deg)`;
        }

        if (secondHand) {
          const secondDeg = seconds * 6;
          secondHand.style.transform = `rotate(${secondDeg}deg)`;
        }
      }

      function changeMode() {
        const mode = document.getElementById("clockMode").value;
        currentMode = mode;

        // Hide all modes
        document.getElementById("digitalClock").style.display = "none";
        document.getElementById("analogClock").style.display = "none";
        document.getElementById("stopwatchMode").style.display = "none";
        document.getElementById("timerMode").style.display = "none";

        // Hide/show controls based on mode
        const formatControl = document.getElementById("formatControl");
        const timezoneControl = document.getElementById("timezoneControl");
        const secondsControl = document.getElementById("secondsControl");
        const dateFormatControl = document.getElementById("dateFormatControl");

        if (mode === "stopwatch" || mode === "timer") {
          formatControl.style.display = "none";
          timezoneControl.style.display = "none";
          secondsControl.style.display = "none";
          dateFormatControl.style.display = "none";
        } else {
          formatControl.style.display = "block";
          timezoneControl.style.display = "block";
          secondsControl.style.display = "block";
          dateFormatControl.style.display = "block";
        }

        // Show selected mode
        if (mode === "digital") {
          document.getElementById("digitalClock").style.display = "block";
        } else if (mode === "analog") {
          document.getElementById("analogClock").style.display = "block";
        } else if (mode === "stopwatch") {
          document.getElementById("stopwatchMode").style.display = "block";
        } else if (mode === "timer") {
          document.getElementById("timerMode").style.display = "block";
        }
      }

      // Stopwatch functions
      function startStopwatch() {
        if (stopwatchInterval) return;

        const startBtn = document.getElementById("stopwatchStartBtn");
        const stopBtn = document.getElementById("stopwatchStopBtn");
        startBtn.disabled = true;
        stopBtn.disabled = false;

        const startTime = Date.now() - stopwatchTime;
        stopwatchInterval = setInterval(() => {
          stopwatchTime = Date.now() - startTime;
          updateStopwatchDisplay();
        }, 10);
      }

      function stopStopwatch() {
        if (!stopwatchInterval) return;

        const startBtn = document.getElementById("stopwatchStartBtn");
        const stopBtn = document.getElementById("stopwatchStopBtn");
        startBtn.disabled = false;
        stopBtn.disabled = true;

        clearInterval(stopwatchInterval);
        stopwatchInterval = null;
      }

      function resetStopwatch() {
        stopStopwatch();
        stopwatchTime = 0;
        updateStopwatchDisplay();
        document.getElementById("stopwatchStartBtn").disabled = false;
      }

      function updateStopwatchDisplay() {
        const hours = Math.floor(stopwatchTime / 3600000);
        const minutes = Math.floor((stopwatchTime % 3600000) / 60000);
        const seconds = Math.floor((stopwatchTime % 60000) / 1000);
        const ms = Math.floor((stopwatchTime % 1000) / 10);

        const display = `${String(hours).padStart(2, "0")}:${String(
          minutes
        ).padStart(2, "0")}:${String(seconds).padStart(2, "0")}.${String(
          ms
        ).padStart(2, "0")}`;
        document.getElementById("stopwatchDisplay").textContent = display;
      }

      // Timer functions
      function startTimer() {
        if (timerInterval) return;

        const minutes =
          parseInt(document.getElementById("timerMinutes").value) || 5;
        if (timerTime === 0) {
          timerTime = minutes * 60 * 1000;
        }

        const startBtn = document.getElementById("timerStartBtn");
        const stopBtn = document.getElementById("timerStopBtn");
        startBtn.disabled = true;
        stopBtn.disabled = false;

        const endTime = Date.now() + timerTime;
        timerInterval = setInterval(() => {
          timerTime = endTime - Date.now();
          if (timerTime <= 0) {
            timerTime = 0;
            stopTimer();
            alert("⏰ Timer finished!");
          }
          updateTimerDisplay();
        }, 100);
      }

      function stopTimer() {
        if (!timerInterval) return;

        const startBtn = document.getElementById("timerStartBtn");
        const stopBtn = document.getElementById("timerStopBtn");
        startBtn.disabled = false;
        stopBtn.disabled = true;

        clearInterval(timerInterval);
        timerInterval = null;
      }

      function resetTimer() {
        stopTimer();
        timerTime = 0;
        const minutes =
          parseInt(document.getElementById("timerMinutes").value) || 5;
        timerTime = minutes * 60 * 1000;
        updateTimerDisplay();
        document.getElementById("timerStartBtn").disabled = false;
      }

      function updateTimerDisplay() {
        const minutes = Math.floor(timerTime / 60000);
        const seconds = Math.floor((timerTime % 60000) / 1000);

        const display = `${String(minutes).padStart(2, "0")}:${String(
          seconds
        ).padStart(2, "0")}`;
        document.getElementById("timerDisplay").textContent = display;
      }

      // Initialize
      updateClock();
      setInterval(() => {
        if (currentMode === "digital" || currentMode === "analog") {
          updateClock();
        }
      }, 1000);

      // Initialize timer display
      resetTimer();

      // Copy embed code functionality
      function copyEmbedCode() {
        const code = document.getElementById("embedCode").textContent;
        navigator.clipboard
          .writeText(code)
          .then(() => {
            const btn = document.querySelector(".copy-btn");
            btn.textContent = "✓ Copied!";
            btn.classList.add("copied");

            setTimeout(() => {
              btn.textContent = "Copy Code";
              btn.classList.remove("copied");
            }, 2000);
          })
          .catch((err) => {
            console.error("Failed to copy:", err);
            const btn = document.querySelector(".copy-btn");
            btn.textContent = "✗ Failed";
            setTimeout(() => {
              btn.textContent = "Copy Code";
            }, 2000);
          });
      }
    </script>
  </body>
</html>
